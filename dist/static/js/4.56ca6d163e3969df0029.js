webpackJsonp([4],{EJIF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("3cXf"),a=s.n(i),n=s("gyMJ"),o={data:function(){return{navs:[{name:"工商信息",i:0,show:!0,to:"icbc",id:1},{name:"法务信息",i:1,show:!1,to:"law"},{name:"资质信息",i:2,show:!1,to:"intell"},{name:"人员信息",i:3,show:!1,to:"personnel"},{name:"业绩信息",i:4,show:!1,to:"centre"},{name:"中标信息",i:5,show:!1,to:"achievement"},{name:"诚信信息",i:6,show:!1,to:"good"}],svip:!1,name:"工商信息",details:{},id:"",title:"",source:"",collect:"关注",iscollect:!1}},watch:{$route:function(t,e){this.navs.forEach(function(t){t.show=!1}),this.name=this.navs[this.$route.meta.i].name,this.navs[this.$route.meta.i].show=!0}},methods:{gaincollect:function(){var t=this;this.iscollect?Object(n.E)({companyid:this.id}).then(function(e){(e.code=1)&&(t.iscollect=!1,t.collect="关注")}):Object(n.n)({companyid:this.id}).then(function(e){(e.code=1)&&(t.iscollect=!0,t.collect="已关注")})},closeload:function(t){this.svip=t.cur},anchor:function(t){this.name=t.name,this.navs.forEach(function(t){t.show=!1}),t.show=!0,this.$router.push({path:t.to,query:{id:t.id,name:t.title,source:t.source}})},resetPhone:function(t){var e=String(t),s=e.length;if(s>=7){if(11==s){var i=e.slice(3,7);return e.replace(i,"****")}i=e.slice(5,9);return e.replace(i,"****")}if(s<7&&s>=6){i=e.slice(-4,-2);return e.replace(i,"**")}},gainDetail:function(){var t=this;this.id=this.$route.query.id;a()({});Object(n.x)("/company/"+this.id).then(function(e){if(1==e.code){t.$route.query.source=e.data.regisAddress,t.details=e.data,t.iscollect=e.data.collected,t.iscollect?t.collect="已关注":t.collect="关注";var s=[];t.details.phone&&(s=t.details.phone.split(";"),"false"==localStorage.getItem("0658544ac523fca9ec78a5f607fdd7ee")?t.details.phone=t.resetPhone(s[0]):t.details.phone=s[0])}})},gainNav:function(){var t=this.$route.meta.i;this.name=this.navs[t].name,this.navs[0].show=!1,this.navs[t].show=!0},deploy:function(){var t=this;this.navs.forEach(function(e){e.id=t.id,e.title=t.title,e.source=t.source})},jump:function(){this.details.comUrl&&(-1==this.details.comUrl.indexOf("http://")?window.open("http://"+this.details.comUrl):window.open(this.details.comUrl))},jumpapp:function(){var t=this.$router.resolve({path:"/download"}).href;window.open(t,"_blank")},updateFn:function(){if("false"==localStorage.getItem("0658544ac523fca9ec78a5f607fdd7ee"))return this.svip=!0,this.modalHelper.afterOpen(),this.pbMode=[],!1;var t=this;this.$http({method:"post",url:"/updated/company",data:{comName:t.$route.query.name,comId:t.$route.query.id}}).then(function(e){t.$alert(e.data.msg,"提示")})},jumpTo:function(t){-1==t.indexOf("http://")&&(t="http://"+t),window.open(t,"_blank")}},created:function(){this.source=this.$route.query.source,this.title=this.$route.query.name,this.gainDetail(),this.gainNav(),this.deploy()},components:{}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"introduce"},[s("v-bread",{attrs:{breadList:[{title:"企业"},{title:t.title},{title:t.name}]}}),t._v(" "),s("div",{staticClass:"com-title"},[t._m(0),t._v(" "),s("div",{staticClass:"com-detail left"},[s("div",{staticClass:"flex-box"},[s("p",{staticClass:"c-name"},[t._v(t._s(t.details.comName))]),t._v(" "),s("div",{staticClass:"right-box"},[t.details.updated?s("span",[t._v("更新时间:"+t._s(t.formatDate(1*t.details.updated,1)))]):t._e(),t._v(" "),s("span",{staticClass:"update",on:{click:t.updateFn}},[t._v("更新")]),t._v(" "),s("div",{staticClass:"attention",class:t.iscollect?"collect":"",on:{click:t.gaincollect}},[s("i",{staticClass:"el-icon-plus"}),t._v(t._s(t.collect)+"\n\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"c-state"},[t._v("\n\t\t\t\t"+t._s(t.details.subsist)+" \n\t\t\t")]),t._v(" "),s("div",{staticClass:"c-all"},[s("div",{staticClass:"left"},[s("p",[t._v("电话："+t._s("NULL-"==t.details.phone?"":t.details.phone)+" "),s("span",{on:{click:t.jumpapp}},[t._v("更多号码请下载APP")])]),t._v(" "),s("p",[t._v("邮箱："+t._s((t.details.email,"--")))])]),t._v(" "),s("div",{staticClass:"left"},[s("p",{attrs:{title:t.details.comUrl}},[t._v("网址：\n\t\t\t\t\t\t"),t.details.comUrl?[s("span",{staticClass:"urlCss",on:{click:function(e){return t.jumpTo(t.details.comUrl)}}},[t._v(t._s(t.details.comUrl))])]:[t._v("--")]],2),t._v(" "),s("p",{attrs:{title:t.details.comAddress}},[t._v("地址："+t._s(t.details.comAddress?t.details.comAddress:"--"))])])])])]),t._v(" "),s("div",{staticClass:"left-right-box"},[s("div",{staticClass:"user-tab bor-r"},t._l(t.navs,function(e,i){return s("div",{key:i,staticClass:"tab",class:e.name==t.name?"current":"",on:{click:function(s){return t.anchor(e)}}},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])}),0),t._v(" "),s("div",{staticClass:"right-box"},[s("router-view")],1)]),t._v(" "),t.svip?s("f-vip",{on:{toChildEvent:t.closeload}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"com-img left"},[e("img",{attrs:{src:s("p+lB"),alt:""}})])}]};var l=s("C7Lr")(o,c,!1,function(t){s("wW9v")},"data-v-6e55d97f",null);e.default=l.exports},wW9v:function(t,e){}});
//# sourceMappingURL=4.56ca6d163e3969df0029.js.map